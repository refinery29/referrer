<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<script src="http://eightmedia.github.com/hammer.js/dist/hammer.js"></script>
<script src="../Source/R29.js"></script>
<script src="../Source/URI.js"></script>
<script src="../Source/Storage.js"></script>
<script src="../Source/Storage.Indexed.js"></script>
<script src="../Source/Storage.Cookies.js"></script>
<script src="../Source/Log.js"></script>
<script src="../Source/Referrers.js"></script>
<script src="../Source/Console.js"></script>
<script src="../Source/Events.js"></script>
<script src="../Source/Document.js"></script>
<script src="../Source/Script.js"></script>
<script src="../Source/Fragment.js"></script>
<script src="../Source/Slideshow.js"></script>
<link rel="stylesheet" href="http://pivotal.github.com/jasmine/lib/jasmine.css">
<script src="Jasmine/Jasmine.js"></script>
<script src="Jasmine/HTML.js"></script>
<script src="Referrers.js"></script>
<script src="Log.js"></script>
<script src="Storage.js"></script>
<script src="Document.js"></script>
<script src="URI.js"></script>
<script src="Fragment.js"></script>
<script src="Slideshow.js"></script>
<script>
(function() {
  var jasmineEnv = jasmine.getEnv();
  jasmineEnv.updateInterval = 250;

  var htmlReporter = new jasmine.HtmlReporter();
  jasmineEnv.addReporter(htmlReporter);

  jasmineEnv.specFilter = function(spec) {
    return htmlReporter.specFilter(spec);
  };

  window.onload = function() {
    var preload = ['http://static2.refinery29.com/bin/entry/7bf/280x335/1015527/bingedrinking-opener.jpg']
    var preloaded = 0;
    if (location.search.indexOf('preload') == -1)
      return jasmineEnv.execute();

    preload.forEach(function(src) {
      var img = document.createElement('img');
      img.src = src
      img.onload = img.onerror = function() {
        document.body.removeChild(img)
        preloaded++;
        if (preloaded == preload.length)
          jasmineEnv.execute();
      }
      document.body.appendChild(img);
    });
  }
})();
</script>